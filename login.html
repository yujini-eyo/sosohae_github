<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>로그인 - 소소한 도움</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- SUIT 폰트 -->
  <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet">

  <!-- 공통 변수 -->
  <style>
    :root{
      --bg:#FFF8F2; --text:#59463E; --muted:#806A5A;
      --primary:#F6A96D; --primary-600:#e98c45;
      --brand:#FFE8C2; --brand-200:#FADFCB;
      --card:#FFFFFF; --card-br:#FFE1CB;
      --shadow-soft: 0 4px 10px rgba(0,0,0,0.06);
      --radius:20px; --maxw:1100px;
      --header-h:72px; --footer-h:90px; /* 초기값(실측으로 곧 대체) */
      --focus:0 0 0 3px rgba(246,169,109,.35);
    }
    *{ box-sizing:border-box; margin:0; padding:0; }
    html, body{ height:100%; }
    body{
      font-family:'SUIT', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background:var(--bg); color:var(--text);
      display:flex; flex-direction:column;
      overflow:hidden; /* 스크롤 제거 */
    }
    a{ color:inherit; text-decoration:none }
    a:focus, button:focus{ outline:none; box-shadow:var(--focus); border-radius:10px; }

    /* 한 화면 레이아웃 */
    main.content{
      flex:1;
      height: calc(100dvh - var(--header-h) - var(--footer-h));
      display:grid; place-items:center;
      padding: 0 16px;
    }
    .content-inner{
      width:100%; max-width:420px;
      transform-origin: center center; /* 축소 기준 */
    }

    /* ====== ✅ 로그인 박스는 "그대로" 유지 ====== */
    h1{ font-size:28px; font-weight:900; text-align:center; margin-bottom:18px; }
    .login-box{
      background:#fff; padding:30px 24px;
      border-radius:20px; box-shadow:0 4px 8px rgba(0,0,0,0.05);
      border:2px solid var(--card-br);
      width:100%; max-width:380px; margin:0 auto;
    }
    .login-box input{
      width:100%; padding:14px; margin-bottom:16px;
      font-size:18px; border-radius:12px; border:2px solid #FFE1CB;
    }
    .login-box button{
      width:100%; padding:14px; font-size:18px; font-weight:700;
      background:#FFB88A; color:#fff; border:none; border-radius:30px; cursor:pointer; margin-top:10px;
    }
    .sub-buttons{ margin-top:20px; text-align:center; }
    .sub-buttons a{ font-size:16px; color:#7A5A48; text-decoration:none; margin:0 10px; }
    .sub-buttons a:hover{ text-decoration:underline; }
  </style>

  <!-- 공통 헤더/푸터 CSS (수정 금지) -->
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/footer.css">
</head>
<body>

  <!-- 드로어 (그대로) -->
  <div class="drawer-backdrop" id="drawerBackdrop" aria-hidden="true"></div>
  <aside class="drawer" id="drawer" aria-hidden="true" aria-label="모바일 내비게이션">
    <header>
      <b>메뉴</b>
      <button id="drawerClose" aria-label="메뉴 닫기">✕</button>
    </header>
    <nav>
      <a href="about.html">서비스 소개</a>
      <a href="guide.html">이용방법</a>
      <a href="login.html" aria-current="page">로그인</a>
      <a href="notice.html">공지</a>
      <a href="mypage.html">내정보</a>
      <a href="points.html">포인트</a>
      <a href="write.html">도움 요청하기</a>
      <a href="give.html">도움 주기</a>
      <a href="#" onclick="alert('로그아웃 처리')">로그아웃</a>
    </nav>
  </aside>

  <!-- 헤더 (그대로) -->
  <header>
    <div class="container">
      <div class="header-container">
        <div class="header-left">
          <button class="hamburger" id="hamburger" aria-label="메뉴 열기">☰</button>
          <nav class="topnav" id="topnav" aria-label="상단 내비게이션">
            <a href="about.html">서비스 소개</a>
            <a href="guide.html">이용방법</a>
            <a href="notice.html">공지</a>
          </nav>
        </div>
        <div class="logo"><a href="main.html">소소한 도움</a></div>
        <div class="header-right" id="rightArea"><!-- header.js 가 채움 --></div>
      </div>
    </div>
  </header>

  <!-- 본문 -->
  <main class="content">
    <div class="content-inner" id="fitBox">
      <h1>로그인</h1>
      <div class="login-box">
        <input type="text" id="loginId" placeholder="아이디" autocomplete="username" />
        <input type="password" id="loginPw" placeholder="비밀번호" autocomplete="current-password" />
        <button id="doLogin">로그인</button>
        <div class="sub-buttons">
          <a href="register.html">회원가입</a> | <a href="#">아이디 · 비밀번호 찾기</a>
        </div>
      </div>
    </div>
  </main>

  <!-- 푸터 마운트 -->
  <div id="footer-root"></div>

  <!-- 공통 스크립트 (수정 금지) -->
  <script src="js/header.js"></script>
  <script src="js/footer.js"></script>

  <script>
  function getUsers(){
    try { return JSON.parse(localStorage.getItem('users')||'{}'); }
    catch(e){ return {}; }
  }

  function measureAndFit(){ /* 그대로 사용 */ }

  function init(){
    renderFooter({
      mount:'#footer-root',
      siteName:'소소한 도움',
      tagline:'따뜻한 연결, 함께 만드는 우리 동네'
    });
    requestAnimationFrame(measureAndFit);
  }

  document.getElementById('doLogin').addEventListener('click', ()=>{
    const id = document.getElementById('loginId').value.trim();
    const pw = document.getElementById('loginPw').value.trim();

    const users = getUsers();
    if(!users[id]){ alert('존재하지 않는 아이디입니다.'); return; }
    if(users[id].password !== pw){ alert('비밀번호가 올바르지 않습니다.'); return; }

    // 로그인 상태 저장
    localStorage.setItem('loggedInUser', id);
    alert('로그인되었습니다!');
    location.href = 'main.html';
  });

  window.addEventListener('load', init);
  window.addEventListener('resize', measureAndFit);
  window.addEventListener('orientationchange', measureAndFit);
</script>
</body>
</html>