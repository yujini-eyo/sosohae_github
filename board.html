<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도움 매칭 게시판 | 소소한 도움</title>
    <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/header.css" />
    <link rel="stylesheet" href="css/footer.css" />
    <style>
/* ======================= Design tokens ======================= */
:root{
  /* 색상 팔레트 */
  --bg:#FFF8F2;
  --card:#FFFFFF;
  --ink:#4A3C35;            /* 본문색 */
  --text: var(--ink);       /* header.css 호환용 별칭 */
  --muted:#7D6B62;
  --line:#EADBC8;

  --accent:#FFB86C;
  --accent-strong:#FF9E3D;

  --tab:#FFE8C2;
  --tab-active:#FFD89A;
  --hover:#FFF2E5;

  --danger:#E5484D;         /* 긴급 */
  --ok:#2F7A2E;             /* 완료 */
  --warn:#B47100;           /* 대기 */

  /* 공통 UI */
  --radius:20px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
  --shadow-soft:0 4px 10px rgba(0,0,0,.06);
  --header-h:72px;
  --maxw:1120px;

  /* 포커스 토큰(의미 분리) */
  --focus-color:#5B9DFF;            /* outline 색상용 */
  --focus-ring:0 0 0 3px rgba(246,169,109,.35); /* box-shadow 링 */
}
:root{
      --bg:#FFF8F2; --text:#59463E; --muted:#806A5A;
      --primary:#F6A96D; --primary-600:#e98c45;
      --brand:#FFE8C2; --brand-200:#FADFCB;
      --card:#FFFFFF; --card-br:#FFE1CB;
      --hero-l:#FFEEE3; --hero-r:#FFF5E6;
      --cta:#FFF0D5; --footer:#FFECD6;
      --shadow: 0 8px 24px rgba(0,0,0,0.08);
      --shadow-soft: 0 4px 10px rgba(0,0,0,0.06);
      --radius: 20px; --maxw: 1100px;
      --header-h: 72px;
      --bottomnav-h: 0px;
      --focus: 0 0 0 3px rgba(246,169,109,.35);
    }

/* ======================= Base / Reset ======================= */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:'SUIT',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  font-size:18px;
  line-height:1.6;
  padding-top:var(--header-h); /* 고정 헤더 높이만큼 여백 */
}

/* 헤더 내부 컨테이너는 패딩 0 (헤더 높이 정확히 산출) */
body>header .container{ padding:0 !important }

.container{
  max-width:var(--maxw);
  margin:0 auto;
  padding:24px;
}

/* 링크(전역) */
a{ color:inherit; text-decoration:none }
a:focus-visible{
  outline:3px solid var(--focus-color);
  outline-offset:2px;
  border-radius:10px;
}

/* 키보드 포커스 시 링 */
button:focus-visible,
.btn:focus-visible,
.tab-btn:focus-visible,
a.row-link:focus-visible{
  outline:3px solid var(--focus-color);
  outline-offset:2px;
  border-radius:10px;
}

/* ======================= Board wrapper ======================= */
.board{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:20px;
  box-shadow:0 6px 20px rgba(0,0,0,.06);
  overflow:hidden;
  margin-top:8px; /* 중복값 정리 (80px 제거) */
}

/* 상단 보드 헤더(탭/툴바 포함) */
header.board-header{
  position:sticky;
  top:var(--header-h);
  z-index:900;
  display:grid;
  gap:16px;
  padding:20px;
  background:#FFE8C2;
  border-bottom:1px solid var(--line);
}

.board-title{ font-size:28px; font-weight:800 }
.desc{ font-size:16px; color:var(--muted) }

/* 접근성: 스킵 링크 */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  position:static; width:auto; height:auto;
  padding:8px 12px; background:#000; color:#fff; border-radius:10px;
}

/* ======================= Tabs ======================= */
.tabs{ display:flex; flex-wrap:wrap; gap:8px }
.tab-btn{
  appearance:none; cursor:pointer; border:0;
  padding:12px 16px; border-radius:14px;
  background:var(--tab); font-weight:800;
}
.tab-btn[aria-selected="true"]{ background:var(--tab-active) }

/* ======================= Toolbar ======================= */
.toolbar{
  display:grid; grid-template-columns:1fr auto;
  gap:12px; align-items:center;
}
.filters{ display:flex; flex-wrap:wrap; gap:8px }

.field{
  display:flex; align-items:center; gap:8px;
  padding:10px 12px;
  background:#FFF9F2; border:1px solid var(--line); border-radius:12px;
}
.field input,
.field select{
  min-width:120px; border:none; background:transparent; font-size:16px;
}
.field input:focus,
.field select:focus{ outline:none }

.cta{ display:flex; gap:8px }

.btn{
  appearance:none; cursor:pointer;
  padding:12px 18px; border-radius:14px;
  border:1px solid transparent; font-weight:800;
}
.btn.primary{ background:var(--accent); color:#fff }
.btn.primary:hover{ background:var(--accent-strong) }
.btn.ghost{ background:#fff; border-color:var(--line) }
.btn.ghost:hover{ background:#FFFBF5 }

/* ======================= Table ======================= */
.table-wrap{ overflow:auto; border-top:1px solid var(--line) }

table{ width:100%; border-collapse:collapse; font-size:18px }

thead th{
  position:sticky; top:0; z-index:1;
  padding:14px; text-align:center; font-weight:900;
  background:#FFF7EA; border-bottom:1px solid var(--line);
}

tbody td{
  padding:16px 14px; text-align:center;
  border-bottom:1px solid var(--line);
}

tr:hover td{ background:var(--hover) }

a.row-link{ color:inherit; text-decoration:none }

/* ======================= Badges / Status ======================= */
/* 텍스트 배지를 올바른 '필' 형태로 재정의 (이전 10×10 dot 제거) */
.badge{
  position:absolute; transform: translate(9px, -9px);
  width:10px; height:10px; border-radius:999px; background:#ff4d4f;
  box-shadow:0 0 0 2px #fff;
}
.badge.type{    background:#E7F2FF; color:#1E5AA8 }
.badge.urgent{  background:#FFE5E5; color:var(--danger) }
.badge.normal{  background:#FFF1D6; color:#794409 }

.status{ font-weight:900 }
.status.done{ color:var(--ok) }
.status.wait{ color:var(--warn) }

/* ======================= Pagination ======================= */
.pagination{
  display:flex; justify-content:center; gap:8px; padding:18px;
}
.page-btn{
  cursor:pointer;
  padding:10px 14px; border-radius:12px; font-weight:800;
  background:#fff; border:1px solid var(--line);
}
.page-btn[aria-current="page"]{ background:var(--tab-active); border-color:transparent }

/* ======================= Desktop: req 탭 테이블 레이아웃 고정 ======================= */
@media (min-width:821px){
  #panel-req table{ display:table; table-layout:fixed; width:100% }
  #panel-req thead{ display:table-header-group }
  #panel-req tbody{ display:table-row-group }
  #panel-req tr{ display:table-row }
  #panel-req th, #panel-req td{ display:table-cell }

  /* 글자 넘침 방지 + 정렬 */
  #panel-req thead th,
  #panel-req tbody td{
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    text-align:center; vertical-align:middle;
  }

  /* 액션 버튼 가로 정렬 보장 */
  #panel-req .row-actions{
    display:flex; justify-content:center; gap:8px;
  }
}

/* ======================= Mobile: 카드형 테이블 ======================= */
@media (max-width:820px){
  .toolbar{ grid-template-columns:1fr }

  thead{ display:none }
  table, tbody, tr, td{ display:block; width:100% }

  tbody{ padding:10px }
  tr{
    margin-bottom:12px; padding:12px;
    background:#FFF7EE; border:1px solid var(--line); border-radius:16px;
  }
  tbody td{ border:none; text-align:left; padding:6px 2px }

  tbody td[data-label]{ display:flex; gap:10px }
  tbody td[data-label]::before{
    content:attr(data-label); flex:0 0 110px; width:110px;
    color:var(--muted); font-weight:900;
  }

  .row-actions{ display:flex; gap:8px; margin-top:8px }
}

/* ======================= Motion ======================= */
@media (prefers-reduced-motion:reduce){
  *{ transition:none !important; animation:none !important }
}
    </style>
</head>

<body>

    <!-- 헤더 -->
    <header>
        <div class="container">
            <div class="header-container">
                <!-- 좌: 네비 -->
                <div class="header-left">
                    <button class="hamburger" id="hamburger" aria-label="메뉴 열기">☰</button>
                    <nav class="topnav" id="topnav" aria-label="상단 내비게이션">
                        <a href="about.html">서비스 소개</a>
                        <a href="guide.html">이용방법</a>
                        <a href="notice.html">공지</a>
                    </nav>
                </div>
                <!-- 중앙: 로고 -->
                <div class="logo"><a href="main.html">소소한 도움</a></div>
                <!-- 우: 사용자 -->
                <div class="header-right" id="rightArea">
                    <span class="user-name">홍길동 님</span>
                    <button class="icon-btn" id="notifyBtn" aria-label="알림">🔔</button>
                    <button class="info-btn" onclick="location.href='mypage.html'">내정보</button>
                    <button class="auth-btn btn-ghost" onclick="alert('로그아웃 처리')">로그아웃</button>
                </div>
            </div>
        </div>
    </header>


    <a href="#main" class="skip-link">본문으로 건너뛰기</a>
    <div class="container">
        <section id="main" class="board" aria-labelledby="boardTitle">
            <header class="board-header">
                <div>
                    <h1 id="boardTitle" class="board-title">도움 매칭 게시판</h1>
                    <p class="desc">고령자(요청자)와 봉사자가 서로 연결되는 공간입니다. 큰 글씨와 선명한 버튼으로 가독성과 가시성을 강화했습니다.</p>
                </div>
                <nav class="tabs" role="tablist" aria-label="게시판 카테고리">
                    <button class="tab-btn" role="tab" aria-selected="true" aria-controls="panel-req" id="tab-req"
                        data-tab="req">도움 요청</button>
                    <button class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-vol" id="tab-vol"
                        data-tab="vol">봉사자 모집</button>
                    <button class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-notice"
                        id="tab-notice" data-tab="notice">공지사항</button>
                </nav>
                <div class="toolbar" aria-label="검색 및 필터">
                    <div class="filters">
                        <label class="field" aria-label="검색어">
                            🔎
                            <input id="search" type="search" placeholder="제목, 내용, 작성자 검색" autocomplete="off" />
                        </label>
                        <label class="field" aria-label="서비스 유형">
                            🧭
                            <select id="svc">
                                <option value="">전체 유형</option>
                                <option value="hospital">동행</option>
                                <option value="shopping">장보기</option>
                                <option value="walk">산책/보행 보조</option>
                                <option value="talk">말벗</option>
                                <option value="clean">청소/정리</option>
                            </select>
                        </label>
                        <label class="field" aria-label="지역">
                            📍
                            <select id="region">
                                <option value="">전체 지역</option>
                                <option>서울</option>
                                <option>부산</option>
                                <option>대구</option>
                                <option>인천</option>
                                <option>광주</option>
                                <option>대전</option>
                                <option>울산</option>
                                <option>세종</option>
                                <option>경기</option>
                                <option>강원</option>
                                <option>충북</option>
                                <option>충남</option>
                                <option>전북</option>
                                <option>전남</option>
                                <option>경북</option>
                                <option>경남</option>
                                <option>제주</option>
                            </select>
                        </label>
                        <label class="field" aria-label="긴급도">
                            ⏱️
                            <select id="urgency">
                                <option value="">전체 긴급도</option>
                                <option value="urgent">긴급</option>
                                <option value="normal">일반</option>
                            </select>
                        </label>
                        <label class="field" aria-label="정렬">
                            ↕️
                            <select id="sort">
                                <option value="recent">최신순</option>
                                <option value="views">조회순</option>
                                <option value="title">제목순</option>
                            </select>
                        </label>
                    </div>
                    <div class="cta">
                        <button class="btn ghost" id="resetBtn" type="button">초기화</button>
                        <button class="btn primary" type="button" id="writeBtn" aria-label="새 글 쓰기">글쓰기</button>
                    </div>
                </div>
            </header>

            <!-- 도움 요청 -->
            <div id="panel-req" role="tabpanel" aria-labelledby="tab-req">
                <div class="table-wrap">
                    <table aria-describedby="desc-req">
                        <caption id="desc-req" class="sr-only" style="position:absolute;left:-9999px;">도움 요청 목록
                        </caption>
                        <thead>
                            <tr>
                                <th scope="col">번호</th>
                                <th scope="col">제목</th>
                                <th scope="col">요청자</th>
                                <th scope="col">유형</th>
                                <th scope="col">지역</th>
                                <th scope="col">희망일시</th>
                                <th scope="col">긴급</th>
                                <th scope="col">진행</th>
                                <th scope="col">조회</th>
                                <th scope="col">액션</th>
                            </tr>
                        </thead>
                        <tbody id="tbody-req"></tbody>
                        <table aria-describedby="desc-req">
                            <colgroup>
                                <col style="width:72px"><!-- 번호 -->
                                <col style="width:auto"><!-- 제목 -->
                                <col style="width:96px"><!-- 요청자 -->
                                <col style="width:110px"><!-- 유형 -->
                                <col style="width:110px"><!-- 지역 -->
                                <col style="width:180px"><!-- 희망일시 -->
                                <col style="width:90px"><!-- 긴급 -->
                                <col style="width:100px"><!-- 진행 -->
                                <col style="width:88px"><!-- 조회 -->
                                <col style="width:140px"><!-- 액션 -->
                            </colgroup>
                            <!-- 기존 thead/tbody 그대로 -->

                        </table>
                </div>
                <nav class="pagination" id="pagination-req" aria-label="도움 요청 페이지"></nav>
            </div>

            <!-- 봉사자 모집 -->
            <div id="panel-vol" role="tabpanel" aria-labelledby="tab-vol" hidden>
                <div class="table-wrap">
                    <table aria-describedby="desc-vol">
                        <caption id="desc-vol" class="sr-only" style="position:absolute;left:-9999px;">봉사자 모집 목록
                        </caption>
                        <thead>
                            <tr>
                                <th scope="col">번호</th>
                                <th scope="col">제목</th>
                                <th scope="col">봉사자</th>
                                <th scope="col">가능지역</th>
                                <th scope="col">가능시간대</th>
                                <th scope="col">보유기술</th>
                                <th scope="col">매칭</th>
                                <th scope="col">조회</th>
                                <th scope="col">액션</th>
                            </tr>
                        </thead>
                        <tbody id="tbody-vol"></tbody>
                    </table>
                </div>
                <nav class="pagination" id="pagination-vol" aria-label="봉사자 모집 페이지"></nav>
            </div>

            <!-- 공지사항 -->
            <div id="panel-notice" role="tabpanel" aria-labelledby="tab-notice" hidden>
                <div class="table-wrap">
                    <table aria-describedby="desc-notice">
                        <caption id="desc-notice" class="sr-only" style="position:absolute;left:-9999px;">공지사항 목록
                        </caption>
                        <thead>
                            <tr>
                                <th scope="col">번호</th>
                                <th scope="col">제목</th>
                                <th scope="col">작성일</th>
                                <th scope="col">조회</th>
                            </tr>
                        </thead>
                        <tbody id="tbody-notice"></tbody>
                    </table>
                </div>
                <nav class="pagination" id="pagination-notice" aria-label="공지사항 페이지"></nav>
            </div>
        </section>
    </div>

    <!-- 푸터 마운트 -->
    <div id="footer-root"></div>

    <!-- ✅ 헤더/푸터 스크립트만 로드 (중복 로직 제거) -->
    <script src="js/header.js"></script>
    <script src="js/footer.js"></script>
    <script>
        renderFooter({
            mount: '#footer-root',
            siteName: '소소한 도움',
            tagline: '따뜻한 연결, 함께 만드는 우리 동네'
        });
    </script>

    <script>
        // ----------------------------- 데모 데이터 -----------------------------
        const svcTypes = ['hospital', 'shopping', 'walk', 'talk', 'clean'];
        const svcLabel = { hospital: '동행', shopping: '장보기', walk: '산책/보행', talk: '말벗', clean: '청소/정리' };

        const regions = ['서울', '부산', '대구', '인천', '광주', '대전', '울산', '세종', '경기', '강원', '충북', '충남', '전북', '전남', '경북', '경남', '제주'];

        function r(arr) { return arr[Math.floor(Math.random() * arr.length)] }
        function randDate() {
            const now = new Date();
            const d = new Date(now.getTime() + (Math.random() * 10 - 3) * 24 * 3600 * 1000); // -3~+7일 사이
            return d.toISOString().slice(0, 16).replace('T', ' ');
        }

        const reqData = Array.from({ length: 42 }, (_, i) => ({
            id: 42 - i,
            title: r(['병원 진료 동행 부탁드립니다', '장보기 도와주실 분', '근처 공원 함께 산책해요', '말벗 및 스마트폰 설정 도움', '집 정리정돈 도와주세요']),
            requester: r(['김**', '이**', '박**', '정**', '최**']),
            type: r(svcTypes),
            region: r(regions),
            wish: randDate(),
            urgency: Math.random() < 0.25 ? 'urgent' : 'normal',
            status: r(['대기', '진행중', '완료']),
            views: Math.floor(Math.random() * 800) + 20
        }));

        const volData = Array.from({ length: 28 }, (_, i) => ({
            id: 28 - i,
            title: r(['주 2회 병원 동행 가능합니다', '운전 가능, 장보기/병원', '평일 오후 산책 도와드려요', '말벗 및 스마트폰 사용 도와드립니다', '정리수납 경험 있습니다']),
            volunteer: r(['rainbow', 'er77', 'warmhands', 'yoonhelper', 'brightday']),
            area: r(regions),
            time: r(['평일 오전', '평일 오후', '주말 오전', '주말 오후']),
            skills: r(['운전', '휠체어 보조', '정리수납', '간단한 영어', '혈압측정 보조']),
            match: r(['가능', '매칭중', '매칭완료']),
            views: Math.floor(Math.random() * 600) + 10
        }));

        const noticeData = [
            { id: 3, title: '여름철 폭염 대비 안내', date: '2025-07-30', views: 420 },
            { id: 2, title: '개인정보 보호 수칙', date: '2025-07-05', views: 318 },
            { id: 1, title: '서비스 오픈 안내', date: '2025-06-20', views: 982 }
        ];

        // ----------------------------- 상태 -----------------------------
        const state = {
            tab: 'req',
            query: '',
            svc: '',
            region: '',
            urgency: '',
            sort: 'recent',
            page: { req: 1, vol: 1, notice: 1 },
            perPage: 10,
        };

        const els = {
            tabs: document.querySelectorAll('.tab-btn'),
            panels: {
                req: document.getElementById('panel-req'),
                vol: document.getElementById('panel-vol'),
                notice: document.getElementById('panel-notice')
            },
            tbodies: {
                req: document.getElementById('tbody-req'),
                vol: document.getElementById('tbody-vol'),
                notice: document.getElementById('tbody-notice')
            },
            pagers: {
                req: document.getElementById('pagination-req'),
                vol: document.getElementById('pagination-vol'),
                notice: document.getElementById('pagination-notice')
            },
            search: document.getElementById('search'),
            svc: document.getElementById('svc'),
            region: document.getElementById('region'),
            urgency: document.getElementById('urgency'),
            sort: document.getElementById('sort'),
            resetBtn: document.getElementById('resetBtn'),
            writeBtn: document.getElementById('writeBtn')
        };

        // ----------------------------- 이벤트 -----------------------------
        els.tabs.forEach(btn => btn.addEventListener('click', () => {
            const next = btn.dataset.tab; if (state.tab === next) return;
            state.tab = next;
            els.tabs.forEach(b => b.setAttribute('aria-selected', b === btn ? 'true' : 'false'));
            Object.entries(els.panels).forEach(([k, p]) => p.hidden = (k !== next));
            render();
            els.search.focus();
        }));

        els.search.addEventListener('input', e => { state.query = e.target.value.trim(); state.page[state.tab] = 1; render(); });
        els.svc.addEventListener('change', e => { state.svc = e.target.value; state.page[state.tab] = 1; render(); });
        els.region.addEventListener('change', e => { state.region = e.target.value; state.page[state.tab] = 1; render(); });
        els.urgency.addEventListener('change', e => { state.urgency = e.target.value; state.page[state.tab] = 1; render(); });
        els.sort.addEventListener('change', e => { state.sort = e.target.value; render(); });

        els.resetBtn.addEventListener('click', () => {
            els.search.value = ''; els.svc.value = ''; els.region.value = ''; els.urgency.value = ''; els.sort.value = 'recent';
            state.query = ''; state.svc = ''; state.region = ''; state.urgency = ''; state.sort = 'recent'; state.page[state.tab] = 1; render();
        });

        els.writeBtn.addEventListener('click', () => {
            alert('글쓰기 폼으로 이동합니다. (실서비스에서는 /help/write 또는 /volunteer/write 라우팅)');
        });

        // ----------------------------- 렌더링 -----------------------------
        function getFiltered() {
            const t = state.tab;
            if (t === 'req') {
                let arr = reqData.slice();
                if (state.svc) arr = arr.filter(v => v.type === state.svc);
                if (state.region) arr = arr.filter(v => v.region === state.region);
                if (state.urgency) arr = arr.filter(v => v.urgency === state.urgency);
                if (state.query) { const q = state.query.toLowerCase(); arr = arr.filter(v => [v.title, v.requester, svcLabel[v.type]].some(x => (x || '').toLowerCase().includes(q))) }
                switch (state.sort) {
                    case 'views': arr.sort((a, b) => b.views - a.views); break;
                    case 'title': arr.sort((a, b) => a.title.localeCompare(b.title, 'ko')); break;
                    default: arr.sort((a, b) => b.id - a.id);
                }
                return arr;
            }
            if (t === 'vol') {
                let arr = volData.slice();
                if (state.region) arr = arr.filter(v => v.area === state.region);
                if (state.query) { const q = state.query.toLowerCase(); arr = arr.filter(v => [v.title, v.volunteer, v.skills].some(x => (x || '').toLowerCase().includes(q))) }
                switch (state.sort) {
                    case 'views': arr.sort((a, b) => b.views - a.views); break;
                    case 'title': arr.sort((a, b) => a.title.localeCompare(b.title, 'ko')); break;
                    default: arr.sort((a, b) => b.id - a.id);
                }
                return arr;
            }
            // notice
            let arr = noticeData.slice();
            if (state.query) { const q = state.query.toLowerCase(); arr = arr.filter(v => v.title.toLowerCase().includes(q)) }
            switch (state.sort) {
                case 'views': arr.sort((a, b) => b.views - a.views); break;
                case 'title': arr.sort((a, b) => a.title.localeCompare(b.title, 'ko')); break;
                default: arr.sort((a, b) => b.id - a.id);
            }
            return arr;
        }

        function paginate(arr) {
            const p = state.page[state.tab];
            const start = (p - 1) * state.perPage;
            return [arr.slice(start, start + state.perPage), Math.ceil(arr.length / state.perPage)];
        }

        function render() {
            const data = getFiltered();
            const [pageItems, total] = paginate(data);
            const t = state.tab;
            const tbody = els.tbodies[t];
            tbody.innerHTML = '';

            if (t === 'req') {
                pageItems.forEach(v => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
            <td data-label="번호">${v.id}</td>
            <td data-label="제목"><a class="row-link" href="#">${v.title}</a></td>
            <td data-label="요청자">${v.requester}</td>
            <td data-label="유형"><span class="badge type">${svcLabel[v.type]}</span></td>
            <td data-label="지역">${v.region}</td>
            <td data-label="희망일시">${v.wish}</td>
            <td data-label="긴급">${v.urgency === 'urgent' ? '<span class="badge urgent">긴급</span>' : '<span class="badge normal">일반</span>'}</td>
            <td data-label="진행" class="status ${v.status === '완료' ? 'done' : (v.status === '대기' ? 'wait' : '')}">${v.status}</td>
            <td data-label="조회">${v.views}</td>
            <td data-label="액션">
              <div class="row-actions"><button class="btn primary" style="padding:8px 12px">신청</button> <button class="btn ghost" style="padding:8px 12px">상세</button></div>
            </td>`;
                    tbody.appendChild(tr);
                });
            } else if (t === 'vol') {
                pageItems.forEach(v => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
            <td data-label="번호">${v.id}</td>
            <td data-label="제목"><a class="row-link" href="#">${v.title}</a></td>
            <td data-label="봉사자">${v.volunteer}</td>
            <td data-label="가능지역">${v.area}</td>
            <td data-label="가능시간대">${v.time}</td>
            <td data-label="보유기술"><span class="badge type">${v.skills}</span></td>
            <td data-label="매칭" class="status ${v.match === '매칭완료' ? 'done' : (v.match === '가능' ? '' : 'wait')}">${v.match}</td>
            <td data-label="조회">${v.views}</td>
            <td data-label="액션">
              <div class="row-actions"><button class="btn primary" style="padding:8px 12px">도움 제안</button> <button class="btn ghost" style="padding:8px 12px">상세</button></div>
            </td>`;
                    tbody.appendChild(tr);
                });
            } else {
                pageItems.forEach(v => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
            <td data-label="번호">${v.id}</td>
            <td data-label="제목"><a class="row-link" href="#">${v.title}</a></td>
            <td data-label="작성일">${v.date}</td>
            <td data-label="조회">${v.views}</td>`;
                    tbody.appendChild(tr);
                });
            }

            renderPager(total);
        }

        function renderPager(total) {
            const p = state.page[state.tab];
            const pager = els.pagers[state.tab];
            pager.innerHTML = '';
            const makeBtn = (label, page, current = false) => {
                const b = document.createElement('button');
                b.className = 'page-btn'; b.textContent = label; b.setAttribute('aria-label', `페이지 ${label}`);
                if (current) { b.setAttribute('aria-current', 'page') }
                b.addEventListener('click', () => { state.page[state.tab] = page; render(); window.scrollTo({ top: 0, behavior: 'smooth' }) });
                return b;
            };
            const pages = total;
            if (p > 1) pager.appendChild(makeBtn('이전', p - 1));
            for (let i = 1; i <= pages; i++) {
                if (i === 1 || i === pages || Math.abs(i - p) <= 1) {
                    pager.appendChild(makeBtn(String(i), i, i === p));
                } else if (Math.abs(i - p) === 2) {
                    const dot = document.createElement('span'); dot.textContent = '…'; dot.style.padding = '10px'; pager.appendChild(dot);
                }
            }
            if (p < pages) pager.appendChild(makeBtn('다음', p + 1));
        }

        // 초기 렌더
        render();
    </script>
</body>

</html>