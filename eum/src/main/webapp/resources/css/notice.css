/* =====================================================
   notice.css — Clean & Readable (JSP 그대로 사용 버전)
   * header/footer 영향 제거 (전역 html, body 스타일 삭제)
   * header.notice-header → .page-notice header.notice-header 로 스코프 한정
   ===================================================== */

/* 0) Tokens */
:root{
  /* palette */
  --bg:#FFF8F2; --card:#FFFFFF;
  --ink:#1C1917; --text:var(--ink); --muted:#574C46; --line:#D5C3AE;

  --accent:#FF8A1C;           /* 버튼/강조 기본 */
  --accent-soft:#FFA74D;      /* hover 배경 */
  --tab:#FFD4A0;              /* 헤더 배경 */
  --hover:#FFE4C7;

  --danger:#E5484D; --ok:#2F7A2E; --warn:#B47100;

  --radius:20px; --header-h:72px; --maxw:840px;
  --focus-color:#3E82F7; --focus-ring:0 0 0 3px rgba(62,130,247,.35);

  /* typography */
  --fz-base:15.5px;   /* 목록 기본 */
  --fz-body:16.5px;   /* 상세 본문 */
  --title-size:26px;

  /* table cell padding */
  --cell-pad-x:14px;

  /* gutters (좌우 안쪽 여백) */
  --gutter-d:34px;    /* 데스크탑 상세/표 좌우 여백 */
  --gutter-t:24px;    /* 태블릿 */
  --gutter-m:18px;    /* 모바일 */

  /* 모바일 헤더 우측 액션(목록버튼) 필요 폭 */
  --header-action-w:112px;

  /* no shadows (깨끗하게) */
  --shadow:none;
}

/* ── 전역(html, body) 스타일 삭제로 header/footer 영향 제거 ── */

/* 1) Page wrapper */
.page-notice{
  padding:10px 0 22px;
  width:60vw; margin-inline:auto;
  color:var(--text);
}
@supports (width:50dvw){
  .page-notice{ width:50dvw; }
}

/* Card */
.page-notice .notice{
  max-width:var(--maxw);
  margin:10px auto 20px;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  overflow:hidden;              /* 기본은 숨김 */
  position:relative;            /* 헤더 절대배치 기준 */
  box-shadow:var(--shadow);
}
.page-notice .notice *{
  box-sizing:border-box; min-width:0;
  font-size:var(--fz-base); color:var(--text);
}

/* 2) Header — 가운데 정렬 + 버튼 자리 분리 (스코프 한정) */
.page-notice header.notice-header{
  position:relative;
  display:grid;                 /* 가운데 정렬을 위한 grid */
  place-items:center;           /* 타이틀 정확히 중앙 */
  gap:8px;
  padding:16px clamp(14px,3vw,22px) 14px;
  background:var(--tab);        /* 흐림/그라데이션 방지: 단색 명시 */
  border-bottom:1px solid var(--line);
  min-height:var(--header-h);   /* 버튼과 충돌 방지 */
}

/* Title/desc */
.page-notice .notice-title{
  margin:0 0 6px;
  font-weight:800; font-size:var(--title-size);
  line-height:1.22; letter-spacing:-.2px; text-align:center;
}
.page-notice .desc{ margin:0 0 6px; color:var(--muted); font-size:14px; text-align:center; }

/* 3) Toolbar (필터/검색) */
.page-notice .toolbar{ display:flex; justify-content:flex-end; align-items:center; gap:6px; }
.page-notice .filters{ display:flex; gap:6px; flex-wrap:wrap; justify-content:center; }
.page-notice .field, .page-notice select, .page-notice .btn{ height:36px; }
.page-notice .field{
  display:flex; align-items:center; gap:8px; padding:7px 12px;
  background:#fff; border:1px solid var(--line); border-radius:10px;
}
.page-notice .field i{ font-size:12px; opacity:.6; transform:translateY(1px); }
.page-notice .field input{
  border:0; background:transparent; outline:0; width:min(320px,50vw); height:20px; font-size:14px;
}
.page-notice select{
  padding:0 10px; border-radius:10px; border:1px solid var(--line); background:#fff;
  font:700 14px/1 system-ui, sans-serif;
}
.page-notice .btn{
  padding:0 12px; border-radius:10px; border:1px solid var(--line); background:#fff;
  color:var(--text); font:800 14px/36px system-ui, sans-serif; cursor:pointer; user-select:none;
}
.page-notice .btn.primary{ background:var(--accent); color:#fff; border-color:transparent; }
.page-notice .btn.primary:hover{ background:var(--accent-soft); }

/* Focus ring */
.page-notice .field input:focus,
.page-notice .btn:focus-visible,
.page-notice select:focus-visible,
.page-notice a.page:focus-visible{ outline:none; box-shadow:var(--focus-ring); }

/* 4) Table (목록) — 좌우 벽 과감히 띄우기 */
.page-notice .table-wrap{
  margin-top:8px; overflow:auto; scrollbar-gutter:stable;
  padding-left:var(--gutter-d); padding-right:var(--gutter-d);
}
.page-notice table{
  width:100%; border-collapse:collapse; table-layout:auto;
  background:#fff; border-radius:14px; overflow:hidden;
  border:1px solid var(--line);
}
.page-notice thead{ background:#fff; }
.page-notice thead th{
  padding:12px var(--cell-pad-x);
  text-align:center; font-weight:900; letter-spacing:.2px; border-bottom:1px solid var(--line);
}

/* Table body */
.page-notice tbody tr:nth-child(odd){ background:#FFF2E2; }
.page-notice tbody tr:nth-child(even){ background:#FFFFFF; }
.page-notice tbody tr:hover{ background:var(--hover); }
.page-notice tbody td{
  padding:14px var(--cell-pad-x);
  text-align:center; vertical-align:middle; color:#111; font-weight:400; border-top:1px solid var(--line);
}

/* Column alignments */
.page-notice .td-title, .page-notice .td-title a{
  color:#111; font-weight:600; line-height:1.6;
  text-align:left !important; text-decoration:none; word-break:keep-all; overflow-wrap:anywhere;
}
.page-notice thead th:nth-child(2), .page-notice tbody td:nth-child(2){ width:140px; white-space:nowrap; }
.page-notice thead th:nth-child(3), .page-notice tbody td:nth-child(3){ width:110px; white-space:nowrap; font-variant-numeric:tabular-nums; }

/* Links in cells */
.page-notice tbody td a:not(.btn){
  color:#111 !important; font-weight:400 !important; text-decoration:none !important;
}

/* Empty */
.page-notice tbody tr.empty td{
  padding:42px 14px; color:var(--muted); background:#fff; border-top:1px solid var(--line);
}

/* 6) Pagination */
.page-notice .pagination{ display:flex; justify-content:center; gap:8px; padding:14px 0 18px; }
.page-notice .pagination .page{
  min-width:64px; height:32px; padding:0 12px;
  border:1px solid var(--line); border-radius:999px; background:#fff;
  color:var(--text); font:800 14px/32px system-ui, sans-serif;
}
.page-notice .pagination .page:hover{ background:var(--hover); }
.page-notice .pagination .page.is-active{ background:var(--accent); color:#fff; border-color:transparent; }

/* 7) Notice View (상세) — 본문이 벽에 안 붙도록 */
.notice-view .notice-body{
  padding:20px var(--gutter-d) 0;
  width:100%; margin:0; max-width:none;
}
.notice-view .notice-h2{
  margin:0 0 10px; font-weight:900; font-size:clamp(20px, 2.3vw, 24px);
  line-height:1.35; letter-spacing:-.2px; color:var(--text); word-break:keep-all;
}
.notice-view .notice-h2::after{
  content:""; display:block; width:54px; height:2px; margin-top:10px;
  background:var(--accent); border-radius:2px;
}

/* meta */
.notice-view .notice-meta{
  display:flex; align-items:center; gap:10px 12px; flex-wrap:wrap;
  margin:0 0 18px; color:var(--muted); font-size:14px;
}
.notice-view .notice-meta time, .notice-view .notice-meta .views{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border:1px solid var(--line); border-radius:999px; background:#fff;
}
.notice-view .notice-meta .dot{ display:none; }

/* content */
.notice-view .notice-content{
  padding-top:18px; border-top:1px solid var(--line);
  color:#111; font-size:var(--fz-body); line-height:1.9; word-break:keep-all; overflow-wrap:anywhere;
}
.notice-view .notice-content p{ margin:0 0 18px; }
.notice-view .notice-content h1, .notice-view .notice-content h2, .notice-view .notice-content h3{
  margin:22px 0 10px; line-height:1.3; color:var(--text); letter-spacing:-.2px;
}
.notice-view .notice-content a{
  color:var(--accent); text-decoration:underline; text-underline-offset:3px; text-decoration-thickness:1.5px;
}
.notice-view .notice-content img{
  max-width:100%; height:auto; display:block;
  border-radius:12px; border:1px solid var(--line); background:#fff; margin:14px auto;
}

/* tables in content */
.notice-view .notice-content table{
  width:100%; border-collapse:separate; border-spacing:0; font-size:15px; margin:16px 0;
  border:1px solid var(--line); border-radius:12px; overflow:hidden;
}
.notice-view .notice-content thead th{
  background:var(--tab); color:var(--text); font-weight:800; border-bottom:1px solid var(--line);
}
.notice-view .notice-content th, .notice-view .notice-content td{
  padding:12px 14px; text-align:left; border-top:1px solid var(--line);
}
.notice-view .notice-content tbody tr:nth-child(odd){ background:#FFF2E2; }
.notice-view .notice-content tbody tr:nth-child(even){ background:#fff; }

/* actions (=목록으로) — 기본은 본문 하단 우측 */
.notice-view .notice-actions{
  display:flex; justify-content:flex-end; gap:8px;
  padding:16px 0 24px; margin-top:18px; border-top:1px solid var(--line);
}

/* 버튼 스타일: 테마와 대비 뚜렷, 밑줄 없음 */
.notice-actions a,
.notice-actions a:link,
.notice-actions a:visited{
  display:inline-flex; align-items:center; justify-content:center;
  height:36px; padding:0 14px;
  border-radius:999px; border:1px solid var(--accent);
  background:#fff; color:#000; font:800 14px/36px system-ui, sans-serif;
  text-decoration:none !important;
}
.notice-actions a:hover{ background:var(--accent-soft); }
.notice-actions a:focus{ outline:none; box-shadow:var(--focus-ring); }

/* 8) A11y */
.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}

/* === Responsive === */

/* Tablet/Desktop spacing for table (already has var(--gutter-d)) */
@media (min-width:821px) and (max-width:1080px){
  .page-notice .table-wrap{ padding-inline:var(--gutter-t); }
  .notice-view .notice-body{ padding-inline:var(--gutter-t); }
}

/* Mobile layout (전역 html/body에 손대지 않음) */
@media (max-width:820px){
  .page-notice{ width:100vw; max-width:100vw; margin:0; }
  .page-notice .notice{
    height:100svh; border-radius:0; border-left:0; border-right:0;
    overflow:visible;               /* 버튼 잘림 방지 */
  }

  /* 헤더: 가운데 + 우측 버튼 자리 확보 */
  .page-notice header.notice-header{
    place-items:center;
    padding-left:max(var(--gutter-m), env(safe-area-inset-left));
    padding-right: calc(max(var(--gutter-m), env(safe-area-inset-right)) + var(--header-action-w));
    min-height:var(--header-h);
  }

  /* '목록으로' 버튼을 헤더 오른쪽 중앙에 고정 */
  .page-notice .notice-view .notice-actions{
    position:absolute; z-index:3;
    top: calc(var(--header-h)/2); right:max(var(--gutter-m), env(safe-area-inset-right));
    transform:translateY(-50%);
    margin:0; padding:0; border-top:none;
    display:flex; gap:6px;
  }
  .page-notice .notice-view .notice-actions a{
    height:34px; line-height:34px; padding:0 12px; font-size:13px;
    border-color:#C98A3A;           /* 헤더색과 조화되는 테두리 */
    background:#fff;
  }

  /* 본문/표 좌우 쿠션 넉넉히 (벽에 안 붙게) */
  .page-notice .table-wrap{ padding-inline:var(--gutter-m); }
  .page-notice.notice-view .notice-body{ padding-inline:var(--gutter-m); }

  /* 목록 가독성: 작은 패딩 */
  :root{ --cell-pad-x:12px; }

  /* 목록: 작은 화면에서는 제목만 노출 */
  .page-notice thead th:nth-child(2),
  .page-notice thead th:nth-child(3),
  .page-notice tbody td:nth-child(2),
  .page-notice tbody td:nth-child(3){ display:none; }
  .page-notice thead th:nth-child(1),
  .page-notice tbody td:nth-child(1){ width:100%; }
}

/* Small tablets: table/list spacing */
@media (min-width:821px) and (max-width:1080px){
  .page-notice .notice{ border-radius:12px; }
}

/* 데스크탑: 스크롤바 거터 보정(범위 한정) */
@media (min-width:941px){
  .page-notice .table-wrap{ scrollbar-gutter:auto; }
}


/* =====================================================
   Mobile Comfort Patch — edge-to-edge, sticky header,
   big tap targets, safe-area, smooth scrolling
   (HTML 변경 불필요 / header·footer 영향 없음)
   ===================================================== */
@media (max-width:820px){
  /* 1) 뷰포트 꽉 차게 + 내부 스크롤만 허용 */
  .page-notice{
    width:100vw !important; max-width:100vw !important; margin:0 !important;
    padding:0 !important;
    background:var(--bg);
  }
  .page-notice .notice{
    /* 화면을 꽉 채우는 카드 컨테이너 */
    min-height:100svh;            /* iOS 키보드/바 대응 svh */
    display:flex; flex-direction:column;
    border-radius:0; border-left:0; border-right:0;
    overflow:hidden;               /* 바깥으로 스크롤 새지 않게 */
  }

  /* 2) 헤더는 카드 안에서 sticky + 정확히 가운데 */
  .page-notice header.notice-header{
    position:sticky; top:0; z-index:5;
    display:grid; place-items:center;
    background:var(--tab);
    padding-left:max(14px, env(safe-area-inset-left));
    padding-right:max(14px, env(safe-area-inset-right));
    min-height:64px;              /* 모바일선 살짝 더 컴팩트 */
    border-bottom:1px solid var(--line);
  }
  .page-notice .notice-title{
    font-size:22px; line-height:1.25; margin:2px 0 4px;
    letter-spacing:-.2px; text-align:center;
  }
  .page-notice .desc{ font-size:13px; margin:0; text-align:center; }

  /* 3) 목록/상세 콘텐츠 영역을 내부 스크롤로 */
  .page-notice .table-wrap,
  .page-notice.notice-view .notice-body{
    flex:1 1 auto; min-height:0; overflow:auto;
    -webkit-overflow-scrolling:touch;
    padding-left:max(12px, env(safe-area-inset-left));
    padding-right:max(12px, env(safe-area-inset-right));
    background:var(--card);
  }

  /* 4) 테이블: 제목만 1열 + 터치 영역 크게 + 가독성 */
  .page-notice thead th:nth-child(2),
  .page-notice thead th:nth-child(3),
  .page-notice tbody td:nth-child(2),
  .page-notice tbody td:nth-child(3){ display:none !important; }

  .page-notice table{ width:100%; table-layout:fixed; }
  .page-notice thead th:nth-child(1),
  .page-notice tbody td:nth-child(1){ width:100% !important; }

  .page-notice thead th{
    padding:10px 10px; font-size:13px; background:#fff;
    position:sticky; top:0; z-index:1;  /* 컬럼 헤더 고정 */
  }
  .page-notice tbody td{
    padding:14px 10px; border-top:1px solid var(--line);
    background:#fff;
  }

  /* 제목 링크 전체가 눌리도록 */
  .page-notice .td-title a{
    display:block; width:100%;
    padding:6px 2px;
    font-size:16px; line-height:1.45; font-weight:700;
    color:#111; text-decoration:none;
  }

  /* 행 사이 살짝 구분감 */
  .page-notice tbody tr:nth-child(odd){ background:#fff; }
  .page-notice tbody tr:hover{ background:var(--hover); }

  /* 5) 상세 본문: 좌우 여백 정돈 + 이미지/표 안전 */
  .page-notice.notice-view .notice-h2{
    font-size:20px; margin:6px 0 8px;
  }
  .page-notice.notice-view .notice-content{
    padding-top:12px; border-top:1px solid var(--line);
    font-size:16px; line-height:1.75;
  }
  .page-notice.notice-view .notice-content img,
  .page-notice.notice-view .notice-content table,
  .page-notice.notice-view .notice-content pre{
    max-width:100%; height:auto; border-radius:10px;
  }

  /* 6) 하단 액션: 콘텐츠 뒤로 내려가도 가리지 않게 */
  .page-notice.notice-view .notice-actions{
    position:sticky; bottom:0; z-index:4;
    display:flex; gap:8px; justify-content:flex-end;
    margin-top:12px; padding:10px max(12px, env(safe-area-inset-right)) 12px max(12px, env(safe-area-inset-left));
    background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 28%);
    border-top:1px solid var(--line);
  }
  .page-notice .btn{
    height:36px; line-height:36px; padding:0 14px; font-size:14px;
    border-radius:999px; border:1px solid var(--line);
    background:#fff; font-weight:800;
  }

  /* 7) 페이지네이션: 손가락으로 누르기 쉽게 */
  .page-notice .pagination{
    position:sticky; bottom:0; z-index:3;
    display:flex; gap:8px; justify-content:center;
    padding:10px max(12px, env(safe-area-inset-right)) 14px max(12px, env(safe-area-inset-left));
    background:linear-gradient(180deg, rgba(255,255,255,0) 0%, #fff 28%);
    border-top:1px solid var(--line);
  }
  .page-notice .pagination .page{
    min-width:72px; height:36px; line-height:36px; font-size:14px;
    border-radius:999px; border:1px solid var(--line);
    background:#fff; font-weight:800;
  }
}

