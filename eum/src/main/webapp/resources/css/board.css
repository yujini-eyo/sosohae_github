/* ======================= Design tokens (global) ======================= */
:root{
  /* 색상 팔레트 */
  --bg:#FFF8F2;
  --card:#FFFFFF;
  --ink:#4A3C35;
  --text: var(--ink);
  --muted:#7D6B62;
  --line:#EADBC8;

  --accent:#FFB86C;
  --accent-600:#FF9E3D;        /* 호버/강조용 */
  --accent-strong: var(--accent-600); /* 하위 호환 alias */

  --tab:#FFE8C2;
  --tab-active:#FFD89A;
  --hover:#FFF2E5;

  --danger:#E5484D;
  --ok:#2F7A2E;
  --warn:#B47100;

  /* 추가 팔레트(기존 값 보존) */
  --brand:#FFE8C2; --brand-200:#FADFCB;
  --hero-l:#FFEEE3; --hero-r:#FFF5E6;
  --cta:#FFF0D5; --footer:#FFECD6;

  /* 공통 UI */
  --radius:20px;
  --shadow:0 8px 24px rgba(0,0,0,.08);
  --shadow-soft:0 4px 10px rgba(0,0,0,.06);
  --header-h:72px;       /* 전역 고정헤더 높이(있을 경우) */
  --maxw:1120px;

  /* 포커스 토큰(일원화) */
  --focus-color:#5B9DFF;
  --focus-ring:0 0 0 3px rgba(246,169,109,.35);

  /* 스티키 오프셋(기본 0) */
  --sticky-offset: 0px;
}

/* ======= Base / Reset (공통) ======= */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:'SUIT',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  font-size:18px;
  line-height:1.6;
  padding-top:0; /* 기본값은 0 */
}
/* 전역 고정 헤더가 있는 페이지에서만 여백 확보 */
body.with-fixed-header{ padding-top:var(--header-h); }

/* 전역 컨테이너 유틸 */
.container{
  max-width:var(--maxw);
  margin:0 auto;
  padding:24px;
}

/* 링크/버튼 포커스 접근성(일관 적용) */
a, button, .btn, .tab-btn, a.row-link{
  outline: none;
}
a:focus-visible,
button:focus-visible,
.btn:focus-visible,
.tab-btn:focus-visible,
a.row-link:focus-visible{
  outline:3px solid var(--focus-color);
  outline-offset:2px;
  border-radius:10px;
  box-shadow:var(--focus-ring);
}

/* 헤더 내부 컨테이너 패딩 0 (헤더 높이 산출 정확) */
body>header .container{ padding:0 !important }

/* ======================= Board wrapper ======================= */
.board{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  overflow:hidden;  /* 둥근 모서리 클리핑 */
  margin-top:8px;
}
.board .board-title{ font-size:28px; font-weight:800; margin:0 }
.board .desc{ font-size:16px; color:var(--muted); margin:0 }

/* 상단 보드 헤더(탭/툴바 포함) */
.board header.board-header{
  position:sticky;
  top:var(--sticky-offset);       /* 기본 0에 딱 붙음 */
  z-index:900;
  display:grid;
  gap:16px;
  padding:20px;
  background:var(--tab);
  border-bottom:1px solid var(--line);
}
/* 전역 고정헤더가 있을 때만 스티키 오프셋을 헤더 높이만큼 띄움 */
body.with-fixed-header .board header.board-header{ --sticky-offset: var(--header-h); }

/* 헤더와 바로 다음 영역의 이중 경계선 방지 */
.board header.board-header + .table-wrap{ border-top:0; }
.board header.board-header + .form-wrap .fieldset:first-of-type{ border-top:0; }

/* ======================= Tabs ======================= */
.board .tabs{ display:flex; flex-wrap:wrap; gap:8px }
.board .tab-btn{
  appearance:none; cursor:pointer; border:0;
  padding:12px 16px; border-radius:14px;
  background:var(--tab); font-weight:800;
}
.board .tab-btn[aria-selected="true"]{ background:var(--tab-active) }

/* ======================= Toolbar ======================= */
.board .toolbar{
  display:grid; grid-template-columns:1fr auto;
  gap:12px; align-items:center;
}
.board .filters{ display:flex; flex-wrap:wrap; gap:8px }

.board .field{
  display:flex; align-items:center; gap:8px;
  padding:10px 12px;
  background:#FFF9F2; border:1px solid var(--line); border-radius:12px;
}
.board .field input,
.board .field select{
  min-width:120px; border:none; background:transparent; font-size:16px;
}
.board .field input:focus,
.board .field select:focus{ outline:none }

.board .cta{ display:flex; gap:8px }

.board .btn{
  appearance:none; cursor:pointer;
  padding:12px 18px; border-radius:14px;
  border:1px solid transparent; font-weight:800;
}
.board .btn.primary{ background:var(--accent); color:#fff }
.board .btn.primary:hover{ background:var(--accent-600) }
.board .btn.ghost{ background:#fff; border-color:var(--line) }
.board .btn.ghost:hover{ background:#FFFBF5 }

/* ======================= Table ======================= */
.board .table-wrap{ overflow:auto; border-top:1px solid var(--line) }

.board table{ width:100%; border-collapse:collapse; font-size:18px }
.board thead th{
  position:sticky; top:0; z-index:1;
  padding:14px; text-align:center; font-weight:900;
  background:#FFF7EA; border-bottom:1px solid var(--line);
}
.board tbody td{
  padding:16px 14px; text-align:center;
  border-bottom:1px solid var(--line);
}
.board tr:hover td{ background:var(--hover) }
.board a.row-link{ color:inherit; text-decoration:none }

/* 단어 쪼개짐 방지(외부 CSS 영향 차단) */
.board table, .board th, .board td{ word-break: keep-all }

/* ======================= Badges / Status ======================= */
.board .badge{
  display:inline-block;
  padding:4px 10px;
  border-radius:999px;
  font-weight:800;
  font-size:14px;
  line-height:1;
  white-space:nowrap;
  border:1px solid transparent;
  background:#E7F2FF;        /* 기본(type) */
  border-color:#CFE4FF;
  color:#1E5AA8;
}
.board .badge.type{    background:#E7F2FF; border-color:#CFE4FF; color:#1E5AA8 }
.board .badge.urgent{  background:#FFE5E5; border-color:#FFC2C4; color:#B42318 }
.board .badge.normal{  background:#FFF1D6; border-color:#FFD79B; color:#7A4D00 }

.board .status{ font-weight:900 }
.board .status.done{ color:var(--ok) }
.board .status.wait{ color:var(--warn) }

/* ======================= Pagination ======================= */
.board .pagination{
  display:flex; justify-content:center; gap:8px; padding:18px;
}
.board .page-btn{
  cursor:pointer;
  padding:10px 14px; border-radius:12px; font-weight:800;
  background:#fff; border:1px solid var(--line);
}
.board .page-btn[aria-current="page"]{
  background:var(--tab-active); border-color:transparent
}

/* ======================= Desktop: req 탭 레이아웃 고정 ======================= */
@media (min-width:821px){
  #panel-req table{ display:table; table-layout:fixed; width:100% }
  #panel-req thead{ display:table-header-group }
  #panel-req tbody{ display:table-row-group }
  #panel-req tr{ display:table-row }
  #panel-req th, #panel-req td{ display:table-cell }

  #panel-req thead th,
  #panel-req tbody td{
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    text-align:center; vertical-align:middle;
  }

  #panel-req .row-actions{
    display:flex; justify-content:center; gap:8px;
  }
}

/* ======================= Mobile: 카드형 테이블 (중복 병합) ======================= */
@media (max-width:820px){
  .board .toolbar{ grid-template-columns:1fr }

  .board thead{ display:none }
  .board table, .board tbody, .board tr, .board td{ display:block; width:100% }

  .board tbody{ padding:10px }
  .board tr{
    margin-bottom:12px; padding:12px;
    background:#FFF7EE; border:1px solid var(--line); border-radius:16px;
  }
  .board tbody td{ border:none; text-align:left; padding:6px 2px }

  .board tbody td[data-label]{ display:flex; gap:10px; align-items:flex-start }
  .board tbody td[data-label]::before{
    content:attr(data-label); flex:0 0 110px; width:110px;
    color:var(--muted); font-weight:900;
  }

  .board .row-actions{ display:flex; gap:8px; margin-top:8px }
}

/* ======================= Motion ======================= */
@media (prefers-reduced-motion:reduce){
  .board *{ transition:none !important; animation:none !important }
}

/* ===== (선택) iOS/Safari에서 overflow가 스티키를 방해할 때 활성화
.board{ overflow:visible; }
*/

/* === Row action buttons: size & alignment normalize === */
.board .row-actions{
  display:flex; gap:8px; justify-content:center; align-items:center; flex-wrap:wrap;
}
.board .row-actions .btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 12px;           /* 테이블 셀용 컴팩트 사이즈 */
  font-size:14px; line-height:1.2;
  border-radius:12px;
}

/* 신청 버튼: 이미 .btn.primary 사용 → 색감만 통일 */
.board .row-actions .btn.primary{
  background:var(--accent); color:#fff; border-color:transparent;
}
.board .row-actions .btn.primary:hover{
  background:var(--accent-600);
}

/* 상세 버튼: 유도색 약하게(ghost) */
.board .row-actions .btn.ghost{
  background:#fff; border-color:var(--line);
}
.board .row-actions .btn.ghost:hover{
  background:#FFFBF5;
}

/* 삭제 버튼: 위험도 컬러(마크업에 .danger만 붙여주면 더 선명) */
.board .row-actions .btn.danger,
.board .row-actions .btn.ghost.danger{
  background:#fff; color:var(--danger);
  border-color: color-mix(in srgb, var(--danger) 35%, transparent);
}
.board .row-actions .btn.danger:hover,
.board .row-actions .btn.ghost.danger:hover{
  background:#FFF0F0; border-color: var(--danger);
}

/* 모바일: 버튼이 줄바꿈될 때 폭 정돈 */
@media (max-width:480px){
  .board .row-actions{ justify-content:stretch }
  .board .row-actions .btn{ flex:1; min-width:120px }
}

