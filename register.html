<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>회원가입 - EuM:</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet">

  <style>
    :root{
      --bg:#FFF8F2; --text:#59463E; --muted:#806A5A;
      --primary:#F6A96D; --primary-600:#e98c45;
      --brand:#FFE8C2; --brand-200:#FADFCB;
      --card:#FFFFFF; --card-br:#FFE1CB;
      --shadow-soft: 0 4px 10px rgba(0,0,0,0.06);
      --radius:20px; --maxw:1100px;
      --header-h:72px; --focus:0 0 0 3px rgba(246,169,109,.35);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; }
    body {
      font-family: 'SUIT', sans-serif;
      background-color: var(--bg);
      color: var(--text);
      padding-top: var(--header-h);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    a{ color:inherit; text-decoration:none }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px;
    }

    h1 {
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 30px;
    }

    form {
      width: 100%;
      max-width: 420px;
      background-color: white;
      padding: 30px 24px;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      border: 2px solid #FFE1CB;
    }

    label {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 6px;
      display: block;
    }

    input[type="text"],
    input[type="password"],
    input[type="date"],
    input[type="tel"] {
      width: 100%;
      padding: 14px;
      font-size: 16px;
      border: 2px solid #FFD8B0;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .phone-wrap {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .phone-wrap input[type="tel"] {
      flex: 1;
      height: 48px;
    }

    .phone-wrap button {
      width: 100px;
      height: 48px;
      font-size: 16px;
      background-color: #FFB88A;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 12px;
      cursor: pointer;
    }

    .note {
      font-size: 14px;
      color: #7C6557;
      margin-top: -12px;
      margin-bottom: 20px;
    }

    .checkbox-area {
      margin-top: -10px;
      margin-bottom: 20px;
      font-size: 15px;
    }

    button[type="submit"] {
      width: 100%;
      background-color: #FFB88A;
      color: white;
      font-size: 18px;
      font-weight: bold;
      padding: 16px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      margin-top: 10px;
    }

    .info-text {
      font-size: 14px;
      color: #806A5A;
      margin-top: 24px;
      line-height: 1.6;
      text-align: center;
    }
   

    
  </style>

  <!-- 공통 헤더/푸터 CSS -->
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/footer.css">
</head>
<body>

  <!-- 드로어 -->
  <div class="drawer-backdrop" id="drawerBackdrop" aria-hidden="true"></div>
  <aside class="drawer" id="drawer" aria-hidden="true" aria-label="모바일 내비게이션">
    <header>
      <b>메뉴</b>
      <button id="drawerClose" aria-label="메뉴 닫기">✕</button>
    </header>
    <nav>
      <a href="about.html">서비스 소개</a>
      <a href="guide.html">이용방법</a>
      <a href="login.html">로그인</a>
      <a href="notice.html">공지</a>
      <a href="mypage.html">내정보</a>
      <a href="points.html">포인트</a>
      <a href="help.html">도움 요청하기</a>
      <a href="give.html">도움 주기</a>
      <a href="#">로그아웃</a>
    </nav>
  </aside>

  <!-- 헤더 -->
  <header>
    <div class="container">
      <div class="header-container">
        <div class="header-left">
          <button class="hamburger" id="hamburger">☰</button>
          <nav class="topnav" id="topnav">
            <a href="about.html">서비스 소개</a>
            <a href="guide.html">이용방법</a>
            <a href="notice.html">공지</a>
          </nav>
        </div>
        <div class="logo"><a href="main.html">EuM:</a></div>
        <div class="header-right" id="rightArea"><!-- header.js가 채움 --></div>
      </div>
    </div>
  </header>

  <!-- 본문 -->
  <main>
    <h1>회원가입</h1>
    <form onsubmit="submitForm(event)">
      <label for="name">아이디 *</label>
      <input type="text" id="id" required placeholder="아이디 입력">

      <label for="name">비밀번호 *</label>
      <input type="password" id="password" required placeholder="비밀번호 입력">

      <label for="name">이메일 *</label>
      <input type="text" id="email" required placeholder="이메일 입력">

      <label for="name">이름 *</label>
      <input type="text" id="name" required placeholder="홍길동">

      <label for="birth">생년월일 *</label>
      <input type="date" id="birth" required>

      <label for="address">주소 *</label>
      <input type="text" id="address" required placeholder="대전광역시 ○○구 ○○동">

      <label for="phone">전화번호 *</label>
      <div class="phone-wrap">
        <input type="tel" id="phone" required placeholder="010-1234-5678">
        <button type="button" onclick="sendCode()">인증</button>
      </div>

      <label for="code">인증번호 *</label>
      <input type="text" id="code" required placeholder="숫자 6자리">

      <label for="notes">
        특이사항 (병명 / 복용약 등) *
        <small style="font-weight: normal; font-size: 14px; color: #7C6557;">
          (없으면 아래에 체크해주세요)
        </small>
      </label>
      <input type="text" id="notes" required placeholder="예: 고혈압 / 없음">

      <div class="checkbox-area">
        <label>
          <input type="checkbox" id="noNotesCheck" onchange="toggleNotes()" style="margin-right: 6px;">
          <strong>특이사항 없어요</strong>
        </label>
      </div>

      <button type="submit">가입하기</button>

      <div class="info-text">
        ※ 1365 자원봉사 연동이나 가족 계정 연결은<br>
        가입 후 <strong>‘내정보’</strong> 메뉴에서 설정하실 수 있어요.
      </div>
    </form>
  </main>

  <!-- 푸터 -->
  <div id="footer-root"></div>

  <!-- 공통 스크립트 -->
  <script src="js/header.js"></script>
  <script src="js/footer.js"></script>

  <script>
  function sendCode(){ alert('인증번호가 전송되었습니다.'); }

  // 로컬 저장소 유틸
  function getUsers(){
    try { return JSON.parse(localStorage.getItem('users')||'{}'); }
    catch(e){ return {}; }
  }
  function saveUsers(users){
    localStorage.setItem('users', JSON.stringify(users));
  }

  function submitForm(e){
    e.preventDefault();

    const id       = document.getElementById('id').value.trim();
    const password = document.getElementById('password').value.trim();
    const email    = document.getElementById('email').value.trim();
    const name     = document.getElementById('name').value.trim();
    const birth    = document.getElementById('birth').value;
    const address  = document.getElementById('address').value.trim();
    const phone    = document.getElementById('phone').value.trim();
    const code     = document.getElementById('code').value.trim();
    const notes    = document.getElementById('notes').value.trim();

    if(!id || !password){ alert('아이디/비밀번호를 입력해주세요.'); return; }
    if(code.length < 4){ alert('인증번호를 확인해주세요.'); return; }

    const users = getUsers();
    if(users[id]){
      alert('이미 존재하는 아이디입니다.');
      return;
    }

    // 실제 서비스에선 비밀번호를 해시해야 함(임시 저장용)
    users[id] = { id, password, email, name, birth, address, phone, notes, createdAt: Date.now() };
    saveUsers(users);

    alert('회원가입이 완료되었습니다!');
    // 자동 로그인까지 하고 싶으면 아래 두 줄 추가
    localStorage.setItem('loggedInUser', id);
    // return location.href = 'main.html';

    location.href = 'login.html';
  }

  function toggleNotes(){
    const checkbox = document.getElementById('noNotesCheck');
    const notesInput = document.getElementById('notes');
    if (checkbox.checked) {
      notesInput.value = '없음';
      notesInput.disabled = true;
    } else {
      notesInput.value = '';
      notesInput.disabled = false;
    }
  }

  // 푸터 렌더
  renderFooter({
    mount:'#footer-root',
    siteName:'EuM:',
    tagline:'따뜻한 연결, 함께 만드는 우리 동네'
  });
</script>
</body>
</html>